{
  "hooks": [
    {
      "eventName": "PreToolUse",
      "matcher": {
        "toolName": ["execute_command", "python_sandbox"]
      },
      "hook": "bash .claude/hooks/check-permissions.sh",
      "description": "检查执行权限 - 在执行命令或Python代码前"
    },
    {
      "eventName": "PreToolUse",
      "matcher": {
        "toolName": ["database"]
      },
      "hook": "bash .claude/hooks/check-sql-injection.sh",
      "description": "检查SQL注入 - 在查询数据库前"
    },
    {
      "eventName": "PreToolUse",
      "matcher": {
        "toolName": ["skill_manager"]
      },
      "hook": "bash .claude/hooks/check-skill-install.sh",
      "description": "检查Skill安装权限 - 在安装外部Skill前验证来源"
    },
    {
      "eventName": "PostToolUse",
      "matcher": {
        "toolName": ["skill_invoker"]
      },
      "hook": "bash .claude/hooks/update-progress.sh",
      "description": "更新进度 - Skill执行后更新task_plan.md"
    },
    {
      "eventName": "PostToolUse",
      "matcher": {
        "toolName": ["python_sandbox"]
      },
      "hook": "bash .claude/hooks/summarize-python-output.sh",
      "description": "总结Python输出 - Python执行后自动总结结果"
    },
    {
      "eventName": "PostToolUse",
      "matcher": {
        "toolName": ["database", "web_search", "web_reader", "skill_manager"]
      },
      "hook": "bash .claude/hooks/log-activity.sh",
      "description": "记录活动 - 记录工具活动到progress.md"
    },
    {
      "eventName": "PostToolUse",
      "action": "every",
      "count": 5,
      "hook": "bash .claude/hooks/prompt-save-finding.sh",
      "description": "提示保存发现 - 每5次工具调用后提示保存重要发现"
    },
    {
      "eventName": "Stop",
      "hook": "bash .claude/hooks/check-completion.sh",
      "description": "检查完成度 - 会话结束时检查任务完成状态"
    },
    {
      "eventName": "Stop",
      "hook": "bash .claude/hooks/save-session-summary.sh",
      "description": "保存会话摘要 - 会话结束时保存到memory/"
    },
    {
      "eventName": "UserPromptSubmit",
      "hook": "bash .claude/hooks/validate-input.sh",
      "description": "验证输入 - 用户提交提示时验证"
    }
  ]
}
