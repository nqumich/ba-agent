# BA-Agent Environment Variables

# ============ AI API Keys (必需) ============
# Claude API (Anthropic) - 主要 LLM
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# LingYi AI API - 自定义 Anthropic API 端点（可选）
# 设置 ANTHROPIC_BASE_URL 以使用自定义 API 端点
# 示例: https://api.lingyaai.cn/v1/messages
ANTHROPIC_BASE_URL=https://api.lingyaai.cn/v1/messages

# Google Gemini API - 通过 LingYi AI 代理
# LingYi AI 提供 Gemini API 访问
# API_KEY: 从 LingYi AI 平台获取
# BASE_URL: https://api.lingyaai.cn/v1
# 模型限制: 仅支持 gemini-3-pro-preview
GOOGLE_API_KEY=your_google_gemini_api_key_here
GOOGLE_BASE_URL=https://api.lingyaai.cn/v1

# OpenAI API (可选)
# OPENAI_API_KEY=your_openai_api_key_here

# 智谱 AI API - GLM-4.7
ZHIPUAI_API_KEY=your_zhipuai_api_key_here

# ============ MCP Servers (Model Context Protocol) ============
# Z.ai 智谱 MCP 服务 - 用于 Web 搜索和网页读取
# 获取方式: https://open.bigmodel.cn/usercenter/apikeys
ZAI_MCP_API_KEY=your_zai_mcp_api_key_here

# MCP 集成测试开关
# 设置为 'true' 时运行 MCP 集成测试（TestWebSearchIntegration, TestWebReaderIntegration）
# 注意：这不会启用真实 MCP 模式，只是让集成测试运行
MCP_AVAILABLE=false

# MCP 真实模式开关（仅 Claude Code 使用）
# 设置为 'true' 时，工具返回提示让 Claude Code 调用真实 MCP 工具
# 警告：不要在测试时设置此变量，会导致实现测试失败
MCP_REAL_MODE=false

# ============ Database (必需) ============
# 主数据库连接字符串
DATABASE_URL=postgresql://user:password@localhost:5432/ba_agent

# ClickHouse 连接 (用于大数据分析)
CLICKHOUSE_URL=clickhouse://localhost:9000/default

# Redis 缓存
REDIS_URL=redis://localhost:6379/0

# ============ Application (可选) ============
# 应用配置
APP_NAME=BA-Agent
APP_ENV=development
LOG_LEVEL=INFO
DEBUG=true

# API 配置
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1

# CORS 配置
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ============ Security ============
# API 密钥认证
API_KEY=your_secret_api_key_here

# JWT 配置 (如果使用)
# SECRET_KEY=your_secret_key_here
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION=3600

# ============ External Services (可选) ============
# Web 搜索 API
# WEB_SEARCH_API_KEY=your_web_search_api_key_here

# 企业微信 Bot
# WECHAT_WORK_KEY=your_wechat_work_key
# WECHAT_WORK_SECRET=your_wechat_work_secret

# 钉钉 Bot
# DINGTALK_WEBHOOK=your_dingtalk_webhook_url
# DINGTALK_SECRET=your_dingtalk_secret

# ============ File Storage (可选) ============
# 允许读取的文件路径 (安全限制)
ALLOWED_PATHS=/tmp,/data,/Users/qini/Desktop

# 上传文件大小限制 (MB)
MAX_UPLOAD_SIZE=10

# ============ Docker (可选) ============
# Docker 容器资源限制
DOCKER_MEMORY_LIMIT=512m
DOCKER_CPU_LIMIT=1.0
DOCKER_TIMEOUT=30

# ============ Vector Database (可选) ============
# Chroma 持久化路径
CHROMA_PERSIST_DIR=./data/chroma

# ============ Monitoring (可选) ============
# Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Sentry 错误追踪
# SENTRY_DSN=your_sentry_dsn_here
