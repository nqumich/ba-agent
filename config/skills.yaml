# BA-Agent Skills 配置文件
#
# 每个 Skill 是一个独立的分析能力模块
# 通过 invoke_skill 工具调用

skills:
  # 异动检测 Skill
  anomaly_detection:
    name: "异动检测"
    description: "检测数据异常波动并计算严重程度"
    entrypoint: "skills/anomaly_detection/main.py"
    function: "detect"
    requirements:
      - "pandas"
      - "numpy"
      - "scipy"
    config:
      threshold: 3.0  # 3-sigma 规则
      min_data_points: 10

  # 归因分析 Skill
  attribution:
    name: "归因分析"
    description: "分析业务指标变化的驱动因素"
    entrypoint: "skills/attribution/main.py"
    function: "analyze"
    requirements:
      - "pandas"
      - "numpy"
    config:
      max_dimensions: 5
      min_contribution: 0.05  # 5%

  # 报告生成 Skill
  report_gen:
    name: "报告生成"
    description: "自动生成数据分析报告"
    entrypoint: "skills/report_gen/main.py"
    function: "generate"
    requirements:
      - "pandas"
      - "jinja2"
    config:
      template_dir: "skills/report_gen/templates"
      output_format: "markdown"

  # 数据可视化 Skill
  visualization:
    name: "数据可视化"
    description: "创建数据可视化图表"
    entrypoint: "skills/visualization/main.py"
    function: "create_chart"
    requirements:
      - "pandas"
      - "plotly"
    config:
      default_chart_type: "line"
      theme: "plotly_white"

# 全局配置
global:
  skill_timeout: 120  # Skill 执行超时时间（秒）
  max_memory: 512m     # 最大内存使用
  enable_cache: true  # 是否启用结果缓存
  cache_ttl: 3600     # 缓存有效期（秒）
